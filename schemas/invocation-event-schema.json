{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Invocation Event Schema",
  "description": "Defines the structure of an Invocation Event â€” the moment an AI agent invokes a brand, product, service, or entity in response to a user intent.",
  "type": "object",
  "properties": {
    "event_id": { "type": "string" },
    "timestamp": { "type": "string", "format": "date-time" },
    "user_intent": { "type": "string" },
    "invoked_entity_type": {
      "type": "string",
      "enum": ["brand", "product", "service", "content", "recommendation"]
    },
    "invoked_entity_id": { "type": "string" },
    "agent_system": {
      "type": "string",
      "description": "AI system or model performing the invocation (GPT, Claude, Perplexity, etc.)"
    },
    "confidence_score": {
      "type": "number",
      "description": "System-reported confidence in the invocation decision."
    },
    "source_signals": {
      "type": "array",
      "description": "Which signals influenced the invocation.",
      "items": { "$ref": "invocation-signal-schema.json" }
    },
    "decision_path": {
      "type": "object",
      "$ref": "invocation-decision-pathway-schema.json"
    }
  },
  "required": ["event_id", "timestamp", "user_intent", "invoked_entity_type", "invoked_entity_id"]
}
